<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS - OmniERP</title>
    <link rel="stylesheet" href="css/global.css">
    <style>
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f4f6f8; }
        .navbar {
            background: #2563eb;
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .navbar h1 { margin: 0; font-size: 1.5em; }
        .navbar a { color: white; text-decoration: none; margin-left: 1rem; opacity: 0.9; }
        .navbar a:hover { opacity: 1; }
        .pos-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            height: calc(100vh - 70px);
        }
        .panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            overflow-y: auto;
        }
        .cart-panel { display: flex; flex-direction: column; }
        .search-box {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 15px;
            margin-bottom: 15px;
        }
        .search-box:focus { outline: none; border-color: #2563eb; }
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 12px;
        }
        .product-card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .product-card:hover {
            border-color: #2563eb;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.15);
            transform: translateY(-2px);
        }
        .product-card .emoji { font-size: 2rem; margin-bottom: 8px; }
        .product-card .name { font-weight: 600; font-size: 0.9rem; color: #111; }
        .product-card .price { color: #2563eb; font-weight: 700; margin-top: 4px; }
        .product-card .stock { font-size: 0.75rem; color: #6b7280; }
        .cart-title { font-size: 1.1rem; font-weight: 700; color: #111; margin-bottom: 15px; border-bottom: 2px solid #e5e7eb; padding-bottom: 10px; }
        .cart-items { flex: 1; overflow-y: auto; }
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f3f4f6;
        }
        .cart-item .item-name { font-weight: 600; font-size: 0.9rem; }
        .cart-item .item-qty { color: #6b7280; font-size: 0.85rem; }
        .cart-item .item-price { font-weight: 700; color: #2563eb; }
        .cart-total {
            border-top: 2px solid #111;
            padding-top: 15px;
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
            font-weight: 700;
        }
        .cart-total .amount { color: #059669; }
        .btn-checkout {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #059669, #047857);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.2s;
        }
        .btn-checkout:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3); }
        @media (max-width: 768px) {
            .pos-container { grid-template-columns: 1fr; height: auto; }
        }
    </style>
</head>
<body>
    <div class="navbar">
        <h1>üí≥ Punto de Venta</h1>
        <div>
            <a href="index.html">‚¨ÖÔ∏è Dashboard</a>
            <a href="inventario.html">üì¶ Inventario</a>
        </div>
    </div>

    <div class="pos-container">
        <div class="panel">
            <input type="text" class="search-box" placeholder="üîç Buscar producto por nombre o c√≥digo..." id="posSearch" onkeyup="filterPOS()">
            <div class="product-grid" id="productGrid">
                <div class="product-card" onclick="addToCart('Laptop HP 15', 599.99)">
                    <div class="emoji">üíª</div>
                    <div class="name">Laptop HP 15</div>
                    <div class="price">599,99 ‚Ç¨</div>
                    <div class="stock">Stock: 15</div>
                </div>
                <div class="product-card" onclick="addToCart('Mouse Logitech', 19.99)">
                    <div class="emoji">üñ±Ô∏è</div>
                    <div class="name">Mouse Logitech</div>
                    <div class="price">19,99 ‚Ç¨</div>
                    <div class="stock">Stock: 50</div>
                </div>
                <div class="product-card" onclick="addToCart('Teclado Mec√°nico', 59.99)">
                    <div class="emoji">‚å®Ô∏è</div>
                    <div class="name">Teclado Mec√°nico</div>
                    <div class="price">59,99 ‚Ç¨</div>
                    <div class="stock">Stock: 25</div>
                </div>
                <div class="product-card" onclick="addToCart('Monitor 27&quot; 4K', 399.99)">
                    <div class="emoji">üñ•Ô∏è</div>
                    <div class="name">Monitor 27" 4K</div>
                    <div class="price">399,99 ‚Ç¨</div>
                    <div class="stock">Stock: 2</div>
                </div>
                <div class="product-card" onclick="addToCart('Cable HDMI 2m', 8.99)">
                    <div class="emoji">üîå</div>
                    <div class="name">Cable HDMI 2m</div>
                    <div class="price">8,99 ‚Ç¨</div>
                    <div class="stock">Stock: 120</div>
                </div>
                <div class="product-card" onclick="addToCart('Webcam HD 1080p', 39.99)">
                    <div class="emoji">üì∑</div>
                    <div class="name">Webcam HD 1080p</div>
                    <div class="price">39,99 ‚Ç¨</div>
                    <div class="stock">Stock: 3</div>
                </div>
                <div class="product-card" onclick="addToCart('Silla Ergon√≥mica', 249.99)">
                    <div class="emoji">ü™ë</div>
                    <div class="name">Silla Ergon√≥mica</div>
                    <div class="price">249,99 ‚Ç¨</div>
                    <div class="stock">Stock: 8</div>
                </div>
                <div class="product-card" onclick="addToCart('Disco SSD 1TB', 89.99)">
                    <div class="emoji">üíæ</div>
                    <div class="name">Disco SSD 1TB</div>
                    <div class="price">89,99 ‚Ç¨</div>
                    <div class="stock">Stock: 30</div>
                </div>
            </div>
        </div>

        <div class="panel cart-panel">
            <div class="cart-title">üõí Carrito de Compra</div>
            <div class="cart-items" id="cartItems">
                <p style="color: #9ca3af; text-align: center; padding: 2rem 0;">Haz clic en un producto para a√±adirlo</p>
            </div>
            <div class="cart-total">
                <span>TOTAL:</span>
                <span class="amount" id="cartTotal">0,00 ‚Ç¨</span>
            </div>
            <button class="btn-checkout" id="checkoutBtn" onclick="checkout()">‚úÖ Confirmar Venta</button>
        </div>
    </div>

    <script>
        let cart = [];

        function addToCart(name, price) {
            const existing = cart.find(i => i.name === name);
            if (existing) {
                existing.qty++;
            } else {
                cart.push({ name, price, qty: 1 });
            }
            renderCart();
        }

        function renderCart() {
            const container = document.getElementById('cartItems');
            if (cart.length === 0) {
                container.innerHTML = '<p style="color: #9ca3af; text-align: center; padding: 2rem 0;">Haz clic en un producto para a√±adirlo</p>';
                document.getElementById('cartTotal').textContent = '0,00 ‚Ç¨';
                return;
            }
            let total = 0;
            container.innerHTML = cart.map((item, i) => {
                const sub = item.price * item.qty;
                total += sub;
                return `<div class="cart-item">
                    <div>
                        <div class="item-name">${item.name}</div>
                        <div class="item-qty">x${item.qty} ¬∑ ${item.price.toFixed(2).replace('.', ',')} ‚Ç¨/ud</div>
                    </div>
                    <div class="item-price">${sub.toFixed(2).replace('.', ',')} ‚Ç¨</div>
                </div>`;
            }).join('');
            document.getElementById('cartTotal').textContent = total.toFixed(2).replace('.', ',') + ' ‚Ç¨';
        }

        function checkout() {
            if (cart.length === 0) return;
            const total = cart.reduce((s, i) => s + i.price * i.qty, 0);
            if (confirm('¬øConfirmar venta por ' + total.toFixed(2).replace('.', ',') + ' ‚Ç¨?')) {
                alert('‚úÖ Venta registrada correctamente. Pendiente de aprobaci√≥n.');
                cart = [];
                renderCart();
            }
        }

        function filterPOS() {
            const q = document.getElementById('posSearch').value.toLowerCase();
            document.querySelectorAll('.product-card').forEach(card => {
                card.style.display = card.textContent.toLowerCase().includes(q) ? '' : 'none';
            });
        }
    </script>
</body>
</html>
